@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
<h3>Upload Student Photo</h3>

<form id="photoForm" enctype="multipart/form-data">
    

    <div class="mb-3">
        <label>Student ID</label>
        <input type="number" name="studentId" class="form-control" required />
    </div>

    <div class="mb-3">
        <label>Photo</label>
        <input type="file" name="photo" class="form-control" required />
    </div>

    <button class="btn btn-primary">Upload</button>
</form>

<div id="msg" class="mt-3"></div>


<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script>
    $("#photoForm").submit(function (e) {//JQuery starts here
        e.preventDefault();

        var formData = new FormData(this);

        $.ajax({//Ajax call=> communication to server without refreshing the page
            url: '/Student/UploadPhoto',//controller/action method
            type: 'POST',//Save the data to server
            data: formData,//Form data represents the data send to server
            processData: false,
            contentType: false,
            success: function (res) {
                if (res.success) {
                    $("#msg").html(`<div class="alert alert-success">${res.message}</div>`);
                } else {
                    $("#msg").html(`<div class="alert alert-danger">${res.message}</div>`);
                }
            }
        });
    });
</script>

